#
# Reun Media Astro moon tasks
#
# Requires following packages for full functionality:
#
# See also `.moon/tasks/bun.yml`
#
# @author Reun Media <company@reun.eu>
# @copyright 2025 Reun Media
#
# @see https://github.com/ReunMedia/moon-configs
#
# @version 1.0.0
#

$schema: "../../cache/schemas/tasks.json"

tasks:
  lint:
    deps:
      - format
      - lint-package-json
      - eslint
      - typecheck

  typecheck:
    command: "astro check"
    inputs:
      - "@group(sources)"
      - "@group(configs)"

  build:
    command: "astro build"
    inputs:
      - "@group(sources)"
      - "@group(configs)"
    outputs:
      - "dist/*"
    deps:
      - format
      - lint
      - test

  dev:
    command: "astro dev"

  preview:
    command: "astro preview"
